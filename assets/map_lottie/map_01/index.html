<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Map</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.4/lottie.min.js"></script>
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }

    img {
      display: block;
      width: 100%;
    }

    #lottie {
      position: absolute;
      width: 100%;
      left: 0;
      top: 0;
      z-index: 2;
    }
  </style>

  <link rel="preload" href="map_01.png" as="image" onload="cancelLoading()" onabort="cancelLoading()"
    onerror="cancelLoading()">
</head>

<body>
  <img src="map_01.png">
  <div id="lottie"></div>
  <script>
    console.log("js in kk map _ 01")
    function cancelLoading() {
      console.log("this is called");
      window.parent.postMessage("map1", "*");
    }
    setTimeout(() => {
      var animation = bodymovin.loadAnimation({
        container: document.getElementById('lottie'),
        path: 'data.json',
        renderer: 'svg',
        loop: false,
        autoplay: true
      });
    }, 1000)

  </script>
</body>

</html>